<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Student Dashboard | EduPlatform</title>

	<!-- Bootstrap Icons -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

	<!-- Google Font -->
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
	<link th:href="@{/css/student-style/student_sidebar.css}" rel="stylesheet">
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
		}

		body {
			 background: #fff;
		}

		.main {
			margin-left: 240px;
			margin-top: 56px;
			padding: 20px;
			transition: 0.3s ease;
		}

		.container {
			max-width: 1200px;
			margin: auto;
			padding: 30px;
		}

		/* SEARCH & FILTER */
		.filters {
			display: flex;
			gap: 15px;
			margin-bottom: 25px;
		}

		.filters input,
		.filters select {
			padding: 12px;
			border-radius: 8px;
			border: 1px solid #ccc;
			width: 100%;
		}

		/* COURSE GRID */
		.course-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
			gap: 25px;
		}

		/* COURSE CARD */
		.course-card {
			background: #fff;
			border-radius: 14px;
			overflow: hidden;
			box-shadow: 0 8px 18px rgba(0, 0, 0, 0.08);
			transition: transform .3s;
		}

		.course-card:hover {
			transform: translateY(-6px);
		}

		.course-thumb {
			height: 160px;
			background: #ddd;
		}

		.course-content {
			padding: 18px;
		}

		.course-badge {
			display: inline-flex;
			align-items: center;
			gap: 4px;
			padding: 5px 12px;
			border-radius: 20px;
			font-size: 12px;
			font-weight: 600;
			width: fit-content;
		}

		.course-badge.free {
			background: #d1e7dd;
			color: #0f5132;
		}

		.course-badge.paid {
			background: #fff3cd;
			color: #664d03;
		}


		.course-title {
			font-size: 16px;
			font-weight: 600;
			margin: 8px 0;
		}

		.course-meta {
			font-size: 13px;
			color: #777;
			margin-bottom: 10px;
		}

		.course-footer {
			display: flex;
			justify-content: space-between;
			align-items: center;
		}

		.rating {
			font-size: 13px;
		}

		.btn {
			padding: 8px 14px;
			border-radius: 8px;
			border: none;
			background: #1f1f2e;
			color: #fff;
			cursor: pointer;
			font-size: 13px;
		}

		.course-content span+span {
			margin-left: 8px;
		}

		.course-meta {
			margin: 6px 0 12px;
		}

		.course-footer {
			margin-top: 10px;
		}

		.course-thumb span {
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 40px;
			height: 100%;
		}
		a.btn {
    text-decoration: none;   /* remove underline */
    color: #fff;             /* same as button text */
    background: #1f1f2e;
    padding: 8px 14px;
    border-radius: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 13px;
    cursor: pointer;
}

a.btn:hover {
    background: #151528;
}
	</style>
</head>

<body>

	<!-- ===== SIDEBAR ===== -->
	<div class="sidebar collapsed" id="sidebar">
		<button class="toggle-btn" id="toggle">
			<i class="bi bi-chevron-right"></i>
		</button>

		<div class="sidebar-brand">
			<a href="/student-dashboard">
				<img th:src="@{/images/logo.png}" class="platform-logo" alt="Logo">
			</a>
			<h2 class="platform-name">
				EduPlatform
			</h2>
		</div>

		<a th:href="@{/student-dashboard}"><i class="bi bi-speedometer2"></i><span>Dashboard</span></a>
		<a th:href="@{/student-course}" class="active"><i class="bi bi-search"></i><span>Explore Courses</span></a>
		<a th:href="@{/student-learning}"><i class="bi bi-book-half"></i><span>My Learning</span></a>
		<a th:href="@{/student-feedback}"><i class="bi bi-person-video3"></i><span>Instructor
				Overview</span></a>
		<a th:href="@{/student-news}"><i class="bi bi-megaphone"></i><span>Announcements</span></a>
		<a th:href="@{/student-notes}"><i class="bi bi-graph-up"></i><span>Notes</span></a>
		<a th:href="@{/student-chat}"><i class="bi bi-chat"></i><span>Doubts Chat</span></a>
		<a th:href="@{/student-internships}"><i class="bi bi-briefcase"></i><span>Internships</span></a>
		<a th:href="@{/student-profile}"><i class="bi bi-person-circle"></i><span>Profile</span></a>
		<a th:href="@{/student-login}"><i class="bi bi-box-arrow-right"></i><span>Logout</span></a>

	</div>

	<!-- ===== TOPBAR ===== -->
	<div class="student-topbar">
		<span class="page-title">Browse Courses</span>
		<div class="topbar-right">
			<div class="notif">
				<a th:href="@{/student-notification}">
					<i class="bi bi-bell"></i>
					<span class="dot"></span> </a>
			</div>

			<div class="profile">
				<a th:href="@{/student-profile}" class="profile-link">
					<img src="/images/default.jpg" alt="Profile">
					<span class="student-name">Dishank</span>
				</a>
			</div>
		</div>
	</div>

	<div class="main">
		<div class="container">
			<div class="filters">
				<input type="text" placeholder="Search courses...">
				<select>
					<option>All Categories</option>
					<option>Beginner</option>
					<option>Intermediate</option>
					<option>Advanced</option>
				</select>
			</div>

			<div class="course-grid">

				<!-- COURSE -->
				<div class="course-card" th:each="course : ${courses}">
					<div class="course-thumb">
						<img th:if="${course.thumbnailURL != null}" th:src="${course.thumbnailURL}"
							style="width:100%; height:100%; object-fit:cover;">

						<span th:if="${course.thumbnailURL == null}"> üìò </span>
					</div>

					<div class="course-content">
						<span class="course-badge" th:classappend="${course.type.name() == 'free'} ? 'free' : 'paid'">

							<span th:if="${course.type.name() == 'free'}">Free</span>

							<span th:if="${course.type.name() != 'free'}">
								<i class="bi bi-currency-rupee"></i>
								<span th:text="${course.price}"></span>
							</span>
						</span>
						<div class="course-title" th:text="${course.title}">Spring Boot Masterclass</div>
						<div class="course-meta">
							By <span th:text="${course.teacher.firstname + ' ' + course.teacher.lastname}"></span>
						</div>
						<div class="course-footer">
							<p>
 ‚≠ê <span th:text="${#numbers.formatDecimal(avgRatings[course.courseId], 1, 1)}"></span>
‚Ä¢
<span th:text="${reviewCounts[course.courseId]}"></span> reviews
</p>
<a class="btn"
   th:href="@{/student-course-details(courseId=${course.courseId})}">
   View
</a>				</div>
					</div>
				</div>



			</div>

		</div>
	</div>


	<!-- ===== SCRIPT ===== -->
	<script>
		const sidebar = document.getElementById("sidebar");
		const toggle = document.getElementById("toggle");
		const icon = toggle.querySelector("i");

		toggle.addEventListener("click", () => {
			if (window.innerWidth <= 768) {
				sidebar.classList.toggle("mobile-show");
			} else {
				sidebar.classList.toggle("collapsed");
				icon.classList.toggle("bi-chevron-right");
				icon.classList.toggle("bi-chevron-left");
			}
		});
	</script>

</body>

</html>